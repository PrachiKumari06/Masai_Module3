<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
   <button onclick="loaddata()">Show All Data</button> 
    <button onclick="cleardata()">Clear All Data</button> 
<ul id="showdata"></ul>

<script>
    async function loaddata() {
      try{
const response=await fetch("https://jsonplaceholder.typicode.com/todos")
const data=await response.json();
const first20=data.slice(0,20);
localStorage.setItem("notes",JSON.stringify(first20));
showdata()
        }
        catch(error){
            console.log(error);
        }  
    }
 function getStoredTodos(){
    let notes=localStorage.getItem("notes")
    return notes?JSON.parse(notes):[]
 }       
function showdata(){
 let lis=document.getElementById("showdata");
 lis.innerHTML='';

 let todo=getStoredTodos();
 if(todo.length===0){
    lis.innerHTML=`<p>There Is No Todo </p>`
    return;
 }  
 else{
  todo.forEach((element,index) => {
    let list=document.createElement("li");
    list.innerHTML=`
    <b>${element.title}</b> 
            <br>Status: ${element.completed}
            <br>
            <button onclick="deleteTodo(${index})">Delete</button>
    `
    lis.appendChild(list);
  });
 } 
}
function cleardata(){
    localStorage.removeItem("notes");
showdata();
} 
function deleteTodo(i){
let data2=getStoredTodos()
    data2.splice(i,1);
    localStorage.setItem("notes",JSON.stringify(data2));
showdata(data2);
}
window.onload = () => {
    showdata();
};
</script>
</body>
</html>